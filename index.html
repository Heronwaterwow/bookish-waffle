<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Solana Wallet Connect - DApp Browser</title>
  <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º Solana Web3.js -->
  <script src="https://unpkg.com/@solana/web3.js@latest/lib/index.iife.min.js"></script>
  <style>
    :root {
      --primary: #9945FF;
      --secondary: #14F195;
      --accent: #6E56CF;
      --background: #121212;
      --card-bg: #1E1E1E;
      --text: #FFFFFF;
      --text-secondary: #A0A0A0;
      --border: #333333;
      --success: #14F195;
      --error: #FF5252;
      --warning: #FFD600;
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    }
    
    body {
      background: var(--background);
      color: var(--text);
      min-height: 100vh;
      padding: 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }
    
    .container {
      width: 100%;
      max-width: 480px;
      margin: 0 auto;
    }
    
    .header {
      text-align: center;
      margin-bottom: 30px;
    }
    
    .header h1 {
      font-size: 28px;
      margin-bottom: 8px;
      background: linear-gradient(to right, var(--primary), var(--secondary));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    
    .header p {
      color: var(--text-secondary);
      font-size: 16px;
    }
    
    .card {
      background: var(--card-bg);
      border-radius: 16px;
      padding: 24px;
      margin-bottom: 20px;
      border: 1px solid var(--border);
      box-shadow: 0 4px 24px rgba(0, 0, 0, 0.2);
    }
    
    .card-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 16px;
    }
    
    .card-title {
      font-size: 18px;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .card-title .icon {
      width: 20px;
      height: 20px;
    }
    
    .wallet-list {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
      margin-bottom: 16px;
    }
    
    .wallet-option {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 16px;
      cursor: pointer;
      transition: all 0.2s ease;
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      position: relative;
    }
    
    .wallet-option:hover {
      background: rgba(255, 255, 255, 0.1);
      transform: translateY(-2px);
    }
    
    .wallet-option img {
      width: 48px;
      height: 48px;
      border-radius: 12px;
      margin-bottom: 8px;
    }
    
    .wallet-option .name {
      font-weight: 500;
      margin-bottom: 4px;
    }
    
    .wallet-option .status {
      font-size: 12px;
      color: var(--success);
    }
    
    .wallet-option .mobile-indicator {
      position: absolute;
      top: 8px;
      right: 8px;
      background: var(--primary);
      color: white;
      font-size: 10px;
      padding: 2px 6px;
      border-radius: 4px;
      font-weight: bold;
    }
    
    .wallet-info {
      background: rgba(0, 0, 0, 0.2);
      border-radius: 8px;
      padding: 12px;
      margin-top: 16px;
    }
    
    .wallet-info .label {
      font-size: 14px;
      color: var(--text-secondary);
      margin-bottom: 4px;
    }
    
    .wallet-info .value {
      font-family: monospace;
      word-break: break-all;
      font-size: 14px;
      background: rgba(0, 0, 0, 0.3);
      padding: 8px;
      border-radius: 4px;
      margin-bottom: 12px;
    }
    
    .wallet-info .value:last-child {
      margin-bottom: 0;
    }
    
    .balance-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 16px;
    }
    
    .balance-amount {
      font-size: 24px;
      font-weight: bold;
    }
    
    .button {
      background: linear-gradient(to right, var(--primary), var(--accent));
      color: white;
      border: none;
      border-radius: 8px;
      padding: 12px 20px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
      width: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 8px;
    }
    
    .button:hover {
      opacity: 0.9;
      transform: translateY(-2px);
    }
    
    .button:active {
      transform: translateY(0);
    }
    
    .button.secondary {
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid var(--border);
    }
    
    .button.danger {
      background: var(--error);
    }
    
    .button.small {
      padding: 8px 16px;
      font-size: 14px;
    }
    
    .button:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
    
    .button .spinner {
      width: 16px;
      height: 16px;
      border: 2px solid rgba(255, 255, 255, 0.3);
      border-top: 2px solid white;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }
    
    .token-list {
      margin-top: 16px;
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    
    .token-item {
      background: rgba(0, 0, 0, 0.2);
      border-radius: 8px;
      padding: 12px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .token-info .token-name {
      font-weight: 500;
      margin-bottom: 4px;
    }
    
    .token-info .token-address {
      font-size: 12px;
      color: var(--text-secondary);
      font-family: monospace;
    }
    
    .token-amount {
      font-weight: bold;
    }
    
    .status-indicator {
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 14px;
    }
    
    .status-indicator .dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
    }
    
    .status-indicator.online .dot {
      background-color: var(--success);
      box-shadow: 0 0 8px var(--success);
      animation: pulse 2s infinite;
    }
    
    .status-indicator.connecting .dot {
      background-color: var(--warning);
      box-shadow: 0 0 8px var(--warning);
      animation: pulse 1s infinite;
    }
    
    .status-indicator.offline .dot {
      background-color: var(--error);
    }
    
    .dapp-browser-info {
      background: rgba(20, 241, 149, 0.1);
      border: 1px solid rgba(20, 241, 149, 0.3);
      border-radius: 8px;
      padding: 12px;
      margin-top: 16px;
      font-size: 14px;
    }
    
    .dapp-browser-info-title {
      display: flex;
      align-items: center;
      gap: 6px;
      font-weight: 600;
      margin-bottom: 4px;
      color: var(--secondary);
    }
    
    .mobile-guide {
      margin-top: 20px;
    }
    
    .step {
      display: flex;
      gap: 12px;
      margin-bottom: 16px;
    }
    
    .step-number {
      width: 24px;
      height: 24px;
      background: var(--primary);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      font-size: 14px;
      flex-shrink: 0;
    }
    
    .step-content h3 {
      margin-bottom: 4px;
      font-size: 16px;
    }
    
    .step-content p {
      color: var(--text-secondary);
      font-size: 14px;
    }
    
    .info-box {
      background: rgba(110, 86, 207, 0.1);
      border: 1px solid rgba(110, 86, 207, 0.3);
      border-radius: 8px;
      padding: 12px;
      margin-top: 16px;
      font-size: 14px;
      color: #b8a9ff;
    }
    
    .info-box-title {
      display: flex;
      align-items: center;
      gap: 6px;
      font-weight: 600;
      margin-bottom: 4px;
    }
    
    .browser-detected {
      background: rgba(20, 241, 149, 0.1);
      border: 1px solid rgba(20, 241, 149, 0.3);
      color: var(--secondary);
    }
    
    .hidden {
      display: none !important;
    }
    
    .loading-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.7);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 1000;
    }
    
    .loading-spinner {
      width: 40px;
      height: 40px;
      border: 3px solid rgba(255, 255, 255, 0.3);
      border-top: 3px solid var(--primary);
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin-bottom: 16px;
    }
    
    .loading-text {
      color: white;
      font-size: 16px;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    @keyframes pulse {
      0% { opacity: 1; }
      50% { opacity: 0.5; }
      100% { opacity: 1; }
    }
    
    @media (max-width: 480px) {
      .wallet-list {
        grid-template-columns: 1fr;
      }
      
      .card {
        padding: 16px;
      }
      
      .header h1 {
        font-size: 24px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>Solana DApp Browser</h1>
      <p>–ü–æ–¥–∫–ª—é—á–∏—Ç–µ –∫–æ—à–µ–ª–µ–∫ —á–µ—Ä–µ–∑ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –±—Ä–∞—É–∑–µ—Ä</p>
    </div>
    
    <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫–æ—à–µ–ª—å–∫–∞ -->
    <div id="connectCard" class="card">
      <div class="card-header">
        <div class="card-title">
          <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M21 12V7H5a2 2 0 0 1 0-4h14v4"></path>
            <path d="M3 5v14a2 2 0 0 0 2 2h16v-5"></path>
            <path d="M18 12a2 2 0 0 0 0 4h4v-4Z"></path>
          </svg>
          –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫–æ—à–µ–ª—å–∫–∞
        </div>
      </div>
      
      <!-- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–∞ –∫–æ—à–µ–ª—å–∫–∞ -->
      <div id="walletBrowserDetected" class="info-box browser-detected hidden">
        <div class="info-box-title">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="10"></circle>
            <path d="M12 6v6l4 2"></path>
          </svg>
          <span id="detectedWalletName">–ö–æ—à–µ–ª–µ–∫ –æ–±–Ω–∞—Ä—É–∂–µ–Ω</span>
        </div>
        <p>–í—ã –Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å –≤–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–º –±—Ä–∞—É–∑–µ—Ä–µ –∫–æ—à–µ–ª—å–∫–∞. –ù–∞–∂–º–∏—Ç–µ "–ü–æ–¥–∫–ª—é—á–∏—Ç—å" –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è.</p>
        <button id="autoConnectBtn" class="button" style="margin-top: 12px;">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M9 12l2 2 4-4"></path>
            <path d="M21 12c-1 0-3-1-3-3s2-3 3-3 3 1 3 3-2 3-3 3"></path>
            <path d="M3 12c1 0 3-1 3-3s-2-3-3-3-3 1-3 3 2 3 3 3"></path>
          </svg>
          –ü–æ–¥–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
        </button>
      </div>
      
      <!-- –ú–æ–±–∏–ª—å–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ -->
      <div id="mobileDetected" class="info-box hidden">
        <div class="info-box-title">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <rect width="14" height="20" x="5" y="2" rx="2" ry="2"></rect>
            <path d="M12 18h.01"></path>
          </svg>
          –ú–æ–±–∏–ª—å–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
        </div>
        <p>–ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–æ—à–µ–ª–µ–∫ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –±—Ä–∞—É–∑–µ—Ä –∫–æ—à–µ–ª—å–∫–∞ —Å –Ω–∞—à–∏–º —Å–∞–π—Ç–æ–º</p>
      </div>
      
      <div class="wallet-list">
        <div class="wallet-option" data-wallet="phantom">
          <div class="mobile-indicator" id="phantomMobile">üì±</div>
          <img src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20fill='none'%20viewBox='0%200%20128%20128'%3E%3Cpath%20fill='%23AB9FF2'%20d='M0%200h128v128H0z'/%3E%3Cpath%20fill='%23FFFDF8'%20fill-rule='evenodd'%20d='M55.6%2082.1C51%2089.5%2043%2098.7%2032.3%2098.7c-5%200-9.9-2-9.9-11%200-23%2031.2-58.4%2060.2-58.4%2016.5%200%2023.1%2011.5%2023.1%2024.5%200%2016.6-10.8%2035.7-21.6%2035.7-3.4%200-5-1.9-5-4.8%200-.8%200-1.6.3-2.6-3.7%206.3-10.7%2012.1-17.4%2012.1-4.8%200-7.3-3-7.3-7.3%200-1.5.4-3.1%201-4.8Zm25-28.8c0%203.8-2.2%205.7-4.7%205.7-2.6%200-4.8-1.9-4.8-5.7%200-3.8%202.2-5.7%204.8-5.7%202.5%200%204.7%202%204.7%205.7Zm14.2%200c0%203.8-2.2%205.7-4.7%205.7-2.6%200-4.8-1.9-4.8-5.7%200-3.8%202.2-5.7%204.8-5.7%202.5%200%204.7%202%204.7%205.7Z'%20clip-rule='evenodd'/%3E%3C/svg%3E" alt="Phantom">
          <div class="name">Phantom</div>
          <div class="status">DApp Browser</div>
        </div>
        <div class="wallet-option" data-wallet="solflare">
          <div class="mobile-indicator" id="solflareMobile">üì±</div>
          <img src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20fill='none'%20viewBox='0%200%20350%20350'%3E%3Cpath%20id='a'%20fill='%23FFEF46'%20d='M0%200h350v350H0z'/%3E%3Cpath%20fill='%2302050A'%20d='m171%20183%2014-14%2026%209c18%206%2027%2017%2027%2032%200%2011-5%2019-13%2028l-3%203%201-7c4-24-4-35-28-43l-24-8Zm-36-84%2072%2024-15%2015-38-13c-13-4-18-11-19-26Zm-5%20123%2017-16%2031%2010c16%205%2022%2013%2020%2030l-68-24Zm-20-70c0-5%202-9%206-13%204%206%2012%2012%2024%2016l25%208-14%2014-25-8c-12-4-16-10-16-17Zm76%20127c53-36%2081-60%2081-89%200-20-11-31-37-39l-19-7%2053-51-11-11-16%2014-74-25c-23%208-52%2030-52%2052l1%207c-19%2011-27%2022-27%2034s6%2024%2026%2030l16%206-55%2053%2011%2011%2017-16%2086%2031Z'/%3E%3C/svg%3E" alt="Solflare">
          <div class="name">Solflare</div>
          <div class="status">DApp Browser</div>
        </div>
        <div class="wallet-option" data-wallet="trustwallet">
          <div class="mobile-indicator" id="trustwalletMobile">üì±</div>
          <img src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20500%20500'%20fill='white'%3E%3Cdefs%3E%3ClinearGradient%20id='a'%20x1='609.58'%20x2='500.46'%20y1='-1336.58'%20y2='-1679.92'%20gradientTransform='matrix(1%200%200%20-.98%20-255.4%20-1243.33)'%20gradientUnits='userSpaceOnUse'%3E%3Cstop%20offset='.02'%20stop-color='%2300f'%3E%3C/stop%3E%3Cstop%20offset='.08'%20stop-color='%230094ff'%3E%3C/stop%3E%3Cstop%20offset='.16'%20stop-color='%2348ff91'%3E%3C/stop%3E%3Cstop%20offset='.42'%20stop-color='%230094ff'%3E%3C/stop%3E%3Cstop%20offset='.68'%20stop-color='%230038ff'%3E%3C/stop%3E%3Cstop%20offset='.9'%20stop-color='%230500ff'%3E%3C/stop%3E%3C/linearGradient%3E%3C/defs%3E%3Cpath%20fill='%23fff'%20d='M0%200h500v500H0z'%3E%3C/path%3E%3Cpath%20fill='%230500ff'%20d='M105%20141.22%20250%2095v320c-103.57-42.67-145-124.45-145-170.66V141.22Z'%3E%3C/path%3E%3Cpath%20fill='url(%23a)'%20d='M395%20141.22%20250%2095v320c103.57-42.67%20145-124.45%20145-170.66V141.22Z'%3E%3C/path%3E%3C/svg%3E" alt="Trust Wallet">
          <div class="name">Trust Wallet</div>
          <div class="status">DApp Browser</div>
        </div>
        <div class="wallet-option" data-wallet="coinbase">
          <div class="mobile-indicator" id="coinbaseMobile">üì±</div>
          <img src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20fill='none'%20viewBox='0%200%201024%201024'%3E%3Cpath%20fill='%230052FF'%20d='M0%200h1024v1024H0z'/%3E%3Cpath%20fill='%23fff'%20fill-rule='evenodd'%20d='M152%20512a360%20360%200%201%200%20720%200%20360%20360%200%200%200-720%200Zm268-116c-13%200-24%2011-24%2024v184c0%2013%2011%2024%2024%2024h184c13%200%2024-11%2024-24V420c0-13-11-24-24-24H420Z'%20clip-rule='evenodd'/%3E%3C/svg%3E" alt="Coinbase">
          <div class="name">Coinbase</div>
          <div class="status">DApp Browser</div>
        </div>
      </div>
      
      <div id="connectionStatus" class="info-box hidden">
        <div class="info-box-title">
          <div class="spinner"></div>
          <span id="statusText">–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ...</span>
        </div>
      </div>
      
      <div class="dapp-browser-info">
        <div class="dapp-browser-info-title">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="3"></circle>
            <path d="M12 1v6M12 17v6M4.22 4.22l4.24 4.24M15.54 15.54l4.24 4.24M1 12h6M17 12h6M4.22 19.78l4.24-4.24M15.54 8.46l4.24-4.24"></path>
          </svg>
          DApp Browser
        </div>
        <p>–ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–æ—à–µ–ª–µ–∫ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –±—Ä–∞—É–∑–µ—Ä –∫–æ—à–µ–ª—å–∫–∞ —Å –Ω–∞—à–∏–º —Å–∞–π—Ç–æ–º, –≥–¥–µ –∫–æ—à–µ–ª–µ–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–∫–ª—é—á–∏—Ç—Å—è</p>
      </div>
      
      <div id="mobileGuide" class="mobile-guide hidden">
        <div class="step">
          <div class="step-number">1</div>
          <div class="step-content">
            <h3>–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∫–æ—à–µ–ª–µ–∫</h3>
            <p>–°–∫–∞—á–∞–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ–¥–Ω–æ–≥–æ –∏–∑ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö –∫–æ—à–µ–ª—å–∫–æ–≤</p>
          </div>
        </div>
        <div class="step">
          <div class="step-number">2</div>
          <div class="step-content">
            <h3>–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–æ—à–µ–ª–µ–∫</h3>
            <p>–í—ã–±–µ—Ä–∏—Ç–µ –∫–æ—à–µ–ª–µ–∫ - –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –±—Ä–∞—É–∑–µ—Ä —Å –Ω–∞—à–∏–º —Å–∞–π—Ç–æ–º</p>
          </div>
        </div>
        <div class="step">
          <div class="step-number">3</div>
          <div class="step-content">
            <h3>–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ</h3>
            <p>–í –±—Ä–∞—É–∑–µ—Ä–µ –∫–æ—à–µ–ª—å–∫–∞ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –Ω–∞—à–µ–º—É —Å–∞–π—Ç—É</p>
          </div>
        </div>
      </div>
    </div>
    
    <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω–æ–≥–æ –∫–æ—à–µ–ª—å–∫–∞ -->
    <div id="walletCard" class="card hidden">
      <div class="card-header">
        <div class="card-title">
          <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M21 12V7H5a2 2 0 0 1 0-4h14v4"></path>
            <path d="M3 5v14a2 2 0 0 0 2 2h16v-5"></path>
            <path d="M18 12a2 2 0 0 0 0 4h4v-4Z"></path>
          </svg>
          –ö–æ—à–µ–ª–µ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω
        </div>
        <div class="status-indicator online">
          <div class="dot"></div>
          <span>–û–Ω–ª–∞–π–Ω</span>
        </div>
      </div>
      
      <div class="wallet-info">
        <div class="label">–ö–æ—à–µ–ª–µ–∫:</div>
        <div id="walletName" class="value">Phantom</div>
        
        <div class="label">–ê–¥—Ä–µ—Å:</div>
        <div id="walletAddress" class="value">...</div>
      </div>
      
      <div class="balance-row">
        <div>
          <div class="label">–ë–∞–ª–∞–Ω—Å SOL:</div>
          <div id="solBalance" class="balance-amount">0.0000</div>
        </div>
        
        <button id="refreshButton" class="button secondary small">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M21 2v6h-6"></path>
            <path d="M3 12a9 9 0 0 1 15-6.7L21 8"></path>
            <path d="M3 22v-6h6"></path>
            <path d="M21 12a9 9 0 0 1-15 6.7L3 16"></path>
          </svg>
        </button>
      </div>
      
      <div id="tokenList" class="token-list">
        <!-- –¢–æ–∫–µ–Ω—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
      </div>
      
      <button id="disconnectButton" class="button danger" style="margin-top: 20px;">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
          <polyline points="16 17 21 12 16 7"></polyline>
          <line x1="21" x2="9" y1="12" y2="12"></line>
        </svg>
        –û—Ç–∫–ª—é—á–∏—Ç—å –∫–æ—à–µ–ª–µ–∫
      </button>
    </div>
  </div>
  
  <!-- –û–≤–µ—Ä–ª–µ–π –∑–∞–≥—Ä—É–∑–∫–∏ -->
  <div id="loadingOverlay" class="loading-overlay hidden">
    <div class="loading-spinner"></div>
    <div id="loadingText" class="loading-text">–û—Ç–∫—Ä—ã–≤–∞–µ–º DApp –±—Ä–∞—É–∑–µ—Ä...</div>
  </div>

  <script>
    // –û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–æ—à–µ–ª—å–∫–∞–º–∏ Solana —á–µ—Ä–µ–∑ DApp Browser
    class SolanaDAppBrowserConnector {
      constructor() {
        this.connection = null;
        this.wallet = null;
        this.walletName = null;
        this.publicKey = null;
        this.isMobile = this.checkIfMobile();
        this.isInWalletBrowser = this.checkWalletBrowser();
        this.knownTokens = {
          'EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v': 'USDC',
          'Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB': 'USDT',
          'So11111111111111111111111111111111111111112': 'SOL (Wrapped)',
          'DezXAZ8z7PnrnRJjz3wXBoRgixCa6xjnB7YaB1pPB263': 'Bonk',
          'JUPyiwrYJFskUPiHa7hkeR8VUtAeFoSYbKedZNsDvCN': 'Jupiter',
          'mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So': 'Marinade SOL',
        };
        
        // –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–æ—à–µ–ª—å–∫–æ–≤ —Å DApp Browser URLs
        this.walletConfigs = {
          phantom: {
            name: 'Phantom',
            dappBrowserUrl: 'https://phantom.app/ul/browse/',
            mobileCheck: () => window.phantom?.solana?.isPhantom,
            desktopCheck: () => window.phantom?.solana?.isPhantom,
            getProvider: () => window.phantom?.solana,
            userAgent: 'Phantom'
          },
          solflare: {
            name: 'Solflare',
            dappBrowserUrl: 'https://solflare.com/ul/v1/browse/',
            mobileCheck: () => window.solflare?.isSolflare,
            desktopCheck: () => window.solflare?.isSolflare,
            getProvider: () => window.solflare,
            userAgent: 'Solflare'
          },
          trustwallet: {
            name: 'Trust Wallet',
            dappBrowserUrl: 'https://link.trustwallet.com/open_url?coin_id=501&url=',
            mobileCheck: () => window.trustwallet?.solana,
            desktopCheck: () => window.trustwallet?.solana,
            getProvider: () => window.trustwallet?.solana,
            userAgent: 'Trust'
          },
          coinbase: {
            name: 'Coinbase Wallet',
            dappBrowserUrl: 'https://go.cb-w.com/dapp?cb_url=',
            mobileCheck: () => window.coinbaseSolana,
            desktopCheck: () => window.coinbaseSolana,
            getProvider: () => window.coinbaseSolana,
            userAgent: 'CoinbaseWallet'
          }
        };
        
        this.init();
      }
      
      // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
      init() {
        // –°–æ–∑–¥–∞–µ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Solana
        this.connection = new solanaWeb3.Connection(
          'https://api.mainnet-beta.solana.com',
          'confirmed'
        );
        
        // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º UI –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –∏ –±—Ä–∞—É–∑–µ—Ä–∞
        this.setupUI();
        
        // –ï—Å–ª–∏ –º—ã –≤ –±—Ä–∞—É–∑–µ—Ä–µ –∫–æ—à–µ–ª—å–∫–∞, –ø—ã—Ç–∞–µ–º—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è
        if (this.isInWalletBrowser) {
          this.handleWalletBrowserConnection();
        } else {
          // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø—Ä–µ–¥—ã–¥—É—â–µ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
          this.checkPreviousConnection();
        }
        
        // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
        this.addEventListeners();
      }
      
      // –ü—Ä–æ–≤–µ—Ä–∫–∞, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –º–æ–±–∏–ª—å–Ω—ã–º
      checkIfMobile() {
        return /Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) || window.innerWidth < 768;
      }
      
      // –ü—Ä–æ–≤–µ—Ä–∫–∞, –Ω–∞—Ö–æ–¥–∏–º—Å—è –ª–∏ –º—ã –≤ –±—Ä–∞—É–∑–µ—Ä–µ –∫–æ—à–µ–ª—å–∫–∞
      checkWalletBrowser() {
        const userAgent = navigator.userAgent;
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–∞–∑–ª–∏—á–Ω—ã–µ –±—Ä–∞—É–∑–µ—Ä—ã –∫–æ—à–µ–ª—å–∫–æ–≤
        if (userAgent.includes('Phantom')) return { wallet: 'phantom', name: 'Phantom' };
        if (userAgent.includes('Solflare')) return { wallet: 'solflare', name: 'Solflare' };
        if (userAgent.includes('Trust')) return { wallet: 'trustwallet', name: 'Trust Wallet' };
        if (userAgent.includes('CoinbaseWallet')) return { wallet: 'coinbase', name: 'Coinbase Wallet' };
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –∫–æ—à–µ–ª—å–∫–æ–≤
        if (window.phantom?.solana?.isPhantom) return { wallet: 'phantom', name: 'Phantom' };
        if (window.solflare?.isSolflare) return { wallet: 'solflare', name: 'Solflare' };
        if (window.trustwallet?.solana) return { wallet: 'trustwallet', name: 'Trust Wallet' };
        if (window.coinbaseSolana) return { wallet: 'coinbase', name: 'Coinbase Wallet' };
        
        return false;
      }
      
      // –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ –∫–æ—à–µ–ª—å–∫–∞
      async handleWalletBrowserConnection() {
        const walletInfo = this.isInWalletBrowser;
        
        if (walletInfo) {
          const detectedElement = document.getElementById('walletBrowserDetected');
          const detectedNameElement = document.getElementById('detectedWalletName');
          
          detectedElement.classList.remove('hidden');
          detectedNameElement.textContent = `${walletInfo.name} –æ–±–Ω–∞—Ä—É–∂–µ–Ω`;
          
          // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
          document.getElementById('autoConnectBtn').addEventListener('click', () => {
            this.connectWalletInBrowser(walletInfo.wallet);
          });
          
          // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—ã—Ç–∞–µ–º—Å—è –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã
          setTimeout(() => {
            this.connectWalletInBrowser(walletInfo.wallet);
          }, 2000);
        }
      }
      
      // –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∫–æ—à–µ–ª—å–∫—É –≤ –±—Ä–∞—É–∑–µ—Ä–µ –∫–æ—à–µ–ª—å–∫–∞
      async connectWalletInBrowser(walletKey) {
        const config = this.walletConfigs[walletKey];
        if (!config) return;
        
        this.showLoading('–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ ' + config.name + '...');
        
        try {
          const provider = config.getProvider();
          
          if (!provider) {
            throw new Error(`${config.name} –ø—Ä–æ–≤–∞–π–¥–µ—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω`);
          }
          
          // –ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ –∫–æ—à–µ–ª—å–∫—É
          let response;
          
          if (provider.connect) {
            response = await provider.connect();
          }
          
          // –ü–æ–ª—É—á–∞–µ–º –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á
          let publicKey;
          
          if (response && response.publicKey) {
            publicKey = response.publicKey.toString();
          } else if (provider.publicKey) {
            publicKey = provider.publicKey.toString();
          } else {
            throw new Error('–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á');
          }
          
          // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏
          this.wallet = provider;
          this.walletName = config.name;
          this.publicKey = publicKey;
          
          localStorage.setItem('connectedWallet', walletKey);
          localStorage.setItem('walletAddress', publicKey);
          
          // –û–±–Ω–æ–≤–ª—è–µ–º UI
          this.hideLoading();
          this.showWalletInfo();
          this.fetchBalance();
          
          // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –∫–æ—à–µ–ª—å–∫–∞
          this.setupWalletEventListeners();
          
        } catch (error) {
          console.error('–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ –∫–æ—à–µ–ª—å–∫–∞:', error);
          this.hideLoading();
          this.showConnectionStatus('error', '–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è: ' + error.message);
        }
      }
      
      // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ UI –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
      setupUI() {
        const mobileDetected = document.getElementById('mobileDetected');
        const mobileGuide = document.getElementById('mobileGuide');
        
        // –°–∫—Ä—ã–≤–∞–µ–º –º–æ–±–∏–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ
        if (!this.isMobile) {
          document.querySelectorAll('.mobile-indicator').forEach(indicator => {
            indicator.style.display = 'none';
          });
        } else {
          mobileDetected.classList.remove('hidden');
          mobileGuide.classList.remove('hidden');
        }
      }
      
      // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
      async checkPreviousConnection() {
        const savedWallet = localStorage.getItem('connectedWallet');
        const savedAddress = localStorage.getItem('walletAddress');
        
        if (savedWallet && savedAddress && this.walletConfigs[savedWallet]) {
          const config = this.walletConfigs[savedWallet];
          const provider = config.getProvider();
          
          if (provider) {
            try {
              this.walletName = config.name;
              this.wallet = provider;
              this.publicKey = savedAddress;
              
              this.showWalletInfo();
              this.fetchBalance();
            } catch (error) {
              console.error('–û—à–∏–±–∫–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:', error);
              this.disconnectWallet();
            }
          }
        }
      }
      
      // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π
      addEventListeners() {
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫ –∫–æ—à–µ–ª—å–∫–æ–≤
        document.querySelectorAll('.wallet-option').forEach(option => {
          option.addEventListener('click', () => {
            const walletKey = option.getAttribute('data-wallet');
            this.openWalletDAppBrowser(walletKey);
          });
        });
        
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–Ω–æ–ø–∫–∏ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è
        document.getElementById('disconnectButton').addEventListener('click', () => {
          this.disconnectWallet();
        });
        
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–Ω–æ–ø–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞
        document.getElementById('refreshButton').addEventListener('click', () => {
          this.fetchBalance();
        });
      }
      
      // –û—Ç–∫—Ä—ã—Ç–∏–µ DApp –±—Ä–∞—É–∑–µ—Ä–∞ –∫–æ—à–µ–ª—å–∫–∞
      openWalletDAppBrowser(walletKey) {
        const config = this.walletConfigs[walletKey];
        if (!config) return;
        
        // –ï—Å–ª–∏ –º—ã –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ –∏ –∫–æ—à–µ–ª–µ–∫ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, –ø–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –Ω–∞–ø—Ä—è–º—É—é
        if (!this.isMobile && config.desktopCheck()) {
          this.connectDesktopWallet(walletKey, config);
          return;
        }
        
        this.showLoading('–û—Ç–∫—Ä—ã–≤–∞–µ–º DApp –±—Ä–∞—É–∑–µ—Ä ' + config.name + '...');
        
        // –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â–∏–π URL
        const currentUrl = encodeURIComponent(window.location.href);
        
        // –§–æ—Ä–º–∏—Ä—É–µ–º URL –¥–ª—è DApp –±—Ä–∞—É–∑–µ—Ä–∞
        const dappBrowserUrl = config.dappBrowserUrl + currentUrl;
        
        // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ø—ã—Ç–∫–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
        localStorage.setItem('openingWallet', walletKey);
        localStorage.setItem('openTimestamp', Date.now().toString());
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
        setTimeout(() => {
          this.hideLoading();
          this.showConnectionStatus('info', `–û—Ç–∫—Ä—ã–≤–∞–µ–º ${config.name} DApp –±—Ä–∞—É–∑–µ—Ä...`);
        }, 1000);
        
        // –û—Ç–∫—Ä—ã–≤–∞–µ–º DApp –±—Ä–∞—É–∑–µ—Ä
        window.open(dappBrowserUrl, '_blank');
        
        // –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± - —á–µ—Ä–µ–∑ location.href –¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –º–æ–±–∏–ª—å–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤
        setTimeout(() => {
          try {
            window.location.href = dappBrowserUrl;
          } catch (error) {
            console.log('Fallback redirect failed:', error);
          }
        }, 500);
      }
      
      // –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∫–æ—à–µ–ª—å–∫—É –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ
      async connectDesktopWallet(walletKey, config) {
        this.showLoading('–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ ' + config.name + '...');
        
        const provider = config.getProvider();
        
        if (!provider) {
          this.hideLoading();
          this.showConnectionStatus('error', config.name + ' –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω');
          return;
        }
        
        try {
          // –ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ –∫–æ—à–µ–ª—å–∫—É
          let response;
          
          if (provider.connect) {
            response = await provider.connect();
          }
          
          // –ü–æ–ª—É—á–∞–µ–º –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á
          let publicKey;
          
          if (response && response.publicKey) {
            publicKey = response.publicKey.toString();
          } else if (provider.publicKey) {
            publicKey = provider.publicKey.toString();
          } else {
            throw new Error('–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á');
          }
          
          // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏
          this.wallet = provider;
          this.walletName = config.name;
          this.publicKey = publicKey;
          
          localStorage.setItem('connectedWallet', walletKey);
          localStorage.setItem('walletAddress', publicKey);
          
          // –û–±–Ω–æ–≤–ª—è–µ–º UI
          this.hideLoading();
          this.showWalletInfo();
          this.fetchBalance();
          
          // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –∫–æ—à–µ–ª—å–∫–∞
          this.setupWalletEventListeners();
        } catch (error) {
          console.error('–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –∫–æ—à–µ–ª—å–∫—É:', error);
          this.hideLoading();
          this.showConnectionStatus('error', '–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è: ' + error.message);
        }
      }
      
      // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π –∫–æ—à–µ–ª—å–∫–∞
      setupWalletEventListeners() {
        if (this.wallet && this.wallet.on) {
          // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è
          this.wallet.on('disconnect', () => {
            this.disconnectWallet();
          });
          
          // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∞–∫–∫–∞—É–Ω—Ç–∞
          if (this.wallet.on('accountChanged')) {
            this.wallet.on('accountChanged', (publicKey) => {
              if (publicKey) {
                this.publicKey = publicKey.toString();
                localStorage.setItem('walletAddress', this.publicKey);
                this.showWalletInfo();
                this.fetchBalance();
              } else {
                this.disconnectWallet();
              }
            });
          }
        }
      }
      
      // –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –∫–æ—à–µ–ª—å–∫–∞
      disconnectWallet() {
        try {
          if (this.wallet && this.wallet.disconnect) {
            this.wallet.disconnect();
          }
        } catch (error) {
          console.error('–û—à–∏–±–∫–∞ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è –∫–æ—à–µ–ª—å–∫–∞:', error);
        }
        
        // –û—á–∏—â–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏
        this.wallet = null;
        this.walletName = null;
        this.publicKey = null;
        
        localStorage.removeItem('connectedWallet');
        localStorage.removeItem('walletAddress');
        
        // –û–±–Ω–æ–≤–ª—è–µ–º UI
        document.getElementById('connectCard').classList.remove('hidden');
        document.getElementById('walletCard').classList.add('hidden');
        document.getElementById('connectionStatus').classList.add('hidden');
      }
      
      // –ü–æ–ª—É—á–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞
      async fetchBalance() {
        if (!this.publicKey || !this.connection) return;
        
        try {
          // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
          document.getElementById('solBalance').innerHTML = '<div class="spinner"></div>';
          document.getElementById('tokenList').innerHTML = '';
          
          // –ü–æ–ª—É—á–∞–µ–º –±–∞–ª–∞–Ω—Å SOL
          const balance = await this.connection.getBalance(new solanaWeb3.PublicKey(this.publicKey));
          const solBalance = balance / solanaWeb3.LAMPORTS_PER_SOL;
          
          // –û–±–Ω–æ–≤–ª—è–µ–º UI
          document.getElementById('solBalance').textContent = solBalance.toFixed(4);
          
          // –ü–æ–ª—É—á–∞–µ–º —Ç–æ–∫–µ–Ω—ã
          await this.fetchTokens();
        } catch (error) {
          console.error('–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞:', error);
          document.getElementById('solBalance').textContent = '–û—à–∏–±–∫–∞';
        }
      }
      
      // –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤
      async fetchTokens() {
        if (!this.publicKey || !this.connection) return;
        
        try {
          // –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ —Ç–æ–∫–µ–Ω-–∞–∫–∫–∞—É–Ω—Ç—ã
          const tokenAccounts = await this.connection.getParsedTokenAccountsByOwner(
            new solanaWeb3.PublicKey(this.publicKey),
            {
              programId: new solanaWeb3.PublicKey('TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA')
            }
          );
          
          const tokenList = document.getElementById('tokenList');
          tokenList.innerHTML = '';
          
          // –ï—Å–ª–∏ —Ç–æ–∫–µ–Ω–æ–≤ –Ω–µ—Ç, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
          if (tokenAccounts.value.length === 0) {
            tokenList.innerHTML = '<div style="text-align: center; padding: 20px; color: var(--text-secondary);">–¢–æ–∫–µ–Ω—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</div>';
            return;
          }
          
          // –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∫–∞–∂–¥—ã–π —Ç–æ–∫–µ–Ω
          tokenAccounts.value.forEach(account => {
            const parsedInfo = account.account.data.parsed.info;
            const mintAddress = parsedInfo.mint;
            const amount = parsedInfo.tokenAmount.uiAmount;
            
            // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º —Ç–æ–∫–µ–Ω—ã —Å –Ω—É–ª–µ–≤—ã–º –±–∞–ª–∞–Ω—Å–æ–º
            if (amount === 0) return;
            
            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∏–º—è —Ç–æ–∫–µ–Ω–∞
            const tokenName = this.knownTokens[mintAddress] || `Token ${mintAddress.slice(0, 4)}...${mintAddress.slice(-4)}`;
            
            // –°–æ–∑–¥–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç –¥–ª—è —Ç–æ–∫–µ–Ω–∞
            const tokenElement = document.createElement('div');
            tokenElement.className = 'token-item';
            tokenElement.innerHTML = `
              <div class="token-info">
                <div class="token-name">${tokenName}</div>
                <div class="token-address">${mintAddress.slice(0, 4)}...${mintAddress.slice(-4)}</div>
              </div>
              <div class="token-amount">${amount.toLocaleString()}</div>
            `;
            
            tokenList.appendChild(tokenElement);
          });
        } catch (error) {
          console.error('–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤:', error);
          document.getElementById('tokenList').innerHTML = '<div style="text-align: center; padding: 20px; color: var(--error);">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ç–æ–∫–µ–Ω–æ–≤</div>';
        }
      }
      
      // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–æ—à–µ–ª—å–∫–µ
      showWalletInfo() {
        document.getElementById('connectCard').classList.add('hidden');
        document.getElementById('walletCard').classList.remove('hidden');
        
        document.getElementById('walletName').textContent = this.walletName;
        document.getElementById('walletAddress').textContent = this.publicKey;
      }
      
      // –ü–æ–∫–∞–∑ —Å—Ç–∞—Ç—É—Å–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
      showConnectionStatus(type, message) {
        const statusElement = document.getElementById('connectionStatus');
        const statusText = document.getElementById('statusText');
        
        statusElement.className = `info-box ${type}`;
        statusText.textContent = message;
        
        statusElement.classList.remove('hidden');
      }
      
      // –ü–æ–∫–∞–∑ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –∑–∞–≥—Ä—É–∑–∫–∏
      showLoading(message) {
        const loadingOverlay = document.getElementById('loadingOverlay');
        const loadingText = document.getElementById('loadingText');
        
        loadingText.textContent = message;
        loadingOverlay.classList.remove('hidden');
      }
      
      // –°–∫—Ä—ã—Ç–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –∑–∞–≥—Ä—É–∑–∫–∏
      hideLoading() {
        document.getElementById('loadingOverlay').classList.add('hidden');
      }
    }
    
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    document.addEventListener('DOMContentLoaded', () => {
      window.dappBrowserConnector = new SolanaDAppBrowserConnector();
    });
  </script>
</body>
</html>
